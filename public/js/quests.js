var quests={init:function(){$("#class-selector").multiselect({buttonClass:"btn",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:false,includeSelectAllOption:true,buttonText:function(a){if(a.length==0){return'None selected <b class="caret"></b>'}else{if(a.length==1){return'<img src="/img/classes/'+$(a[0]).val()+'.png"> <b class="caret"></b>'}else{if(a.length>1){return a.length+' selected  <b class="caret"></b>'}else{var b="";a.each(function(){b+=$(this).text()+", "});return b.substr(0,b.length-2)+' <b class="caret"></b>'}}}}});$(".quest-form").submit(function(a){a.preventDefault();quests.search()});$(".quest-form .filter-form").click(function(a){a.preventDefault();$(".quest-form").submit()});$(".quest-text-search").keyup(function(a){if(a.which==13){quests.search()}});quests.search()},search:function(){var d=[],c=parseInt($("#min-level").val()),b=parseInt($("#max-level").val()),a=$("#quest_item").val().toLowerCase();$("#class-selector + .btn-group input:checked").each(function(){d[d.length]=$(this).val()});$("tr.quest").each(function(){var l=$(this),h=$("td span.name",l).html().toLowerCase(),g=parseInt($("td span.level",l).html()),e=$("td img.class-icon",l).data("abbr");var k=true;if(a!=""){if(h.indexOf(a)<0){k=false}}var f=false;for(var j=0;j<d.length;j++){if(d[j]==e){f=true;break}}if(f==false){k=false}if(c>g||g>b){k=false}l[(k?"remove":"add")+"Class"]("hidden")})}};$(quests.init);