var map={init:function(){$("a[data-toggle=tab]").on("shown.bs.tab",(function(e){var t=$(e.target).attr("href");$(t).find(".globe:not(.overscroll)").overscroll(),$(t).find(".globe").addClass("overscroll")})),$(".active a[data-toggle=tab]").trigger("shown.bs.tab"),$(".item_level, .region_level, .cluster_level").each((function(){var e=$(this);0==e.find(".node_level").length&&e.remove()})),$(".item_level > div:first-child, .region_level > div:first-child, .cluster_level > div:first-child").click((function(){$(this).parent("li").toggleClass("open")})),$(".cluster, .vendor, .beast").click(map.icon_click),$(".clear-selected").click(map.clear_selected),$(".globe_list input[type=checkbox]").change(map.toggle_level)},toggle_node:function(e,t){var a=e.data("id"),i=e.data("type");map_item=$(".map-item[data-id="+a+"][data-type="+i+"]"),map_item[(t?"remove":"add")+"Class"]("hidden")},toggle_level:function(e,t){e&&e.stopPropagation();var a=$(this),i=a.closest(".list-group-item"),l=i.find(".node-item"),s=l.data("id"),o=l.data("type");0==a.prop("checked")&&map.resort_to_last(i),void 0!==t&&!0!==t||(i.find(".node-item").each((function(){return map.toggle_node($(this),a.prop("checked"),$(".node-item[data-id="+s+"][data-type="+o+"]").length)})),$(".node-item[data-id="+s+"][data-type="+o+"]").not(l).each((function(){var e=$(this).closest(".list-group-item").find("input[type=checkbox]");return e.prop("checked",a.prop("checked")),map.toggle_level.apply(e,[!1,!1])})))},clear_selected:function(e){e&&e.preventDefault(),$(".clear-selected").addClass("hidden"),$(".list-group-item.alert-success").removeClass("alert-success"),$(".list-group-item.item_level.alert-info").removeClass("alert-info")},icon_click:function(){var e=$(this),t=e.data("id"),a=e.data("type");$(".list-group-item.open").removeClass("open"),map.clear_selected(),$(".node-item[data-id="+t+"][data-type="+a+"]").parents().map((function(){var e=$(this);e.hasClass("list-group-item")&&e.addClass("open")})),$(".node-item[data-id="+t+"][data-type="+a+"]").parents(".list-group-item.item_level").addClass("alert-info"),$(".node-item[data-id="+t+"][data-type="+a+"]").closest(".list-group-item").removeClass("alert-info").addClass("alert-success"),$(".node-item[data-id="+t+"][data-type="+a+"]").closest(".list-group-item").each((function(){return map.resort_to_first_recursive($(this))})),$(".clear-selected").removeClass("hidden")},resort_to_first_recursive:function(e){var t=e.closest(".list-group");t.prepend(e);var a=t.closest(".list-group-item");a.length>0&&map.resort_to_first_recursive(a)},resort_to_last:function(e){e.closest(".list-group").append(e)}};$(map.init);