var list={init:function(){$(".update-list-item").change(function(){var t=$(this).closest("tr"),i=t.data("itemId"),e=t.data("itemName"),a=parseInt($(this).val()),n="Updating the quantity for "+e;a<=0&&(n=e+" will be deleted from your list"),$.ajax({url:"/list/edit",type:"post",data:{"item-id":i,amount:a},beforeSend:function(){global.noty({type:a<=0?"warning":"information",text:n})}})}),$(".delete-list-item").click(function(){var t=$(this).closest("tr"),i=t.data("itemId"),e=t.data("itemName");$.ajax({url:"/list/delete",type:"post",data:{"item-id":i},beforeSend:function(){global.noty({type:"warning",text:"Deleting "+e+" from your list"})},complete:function(){global.fade_and_destroy(t),setTimeout(list.check_if_empty,1e3)}})}),$("#savedList").on("show.bs.modal",function(){var t=$(this),i=t.data("baseUrl"),e=[];$("#list tbody tr").each(function(){var t=$(this);e.push(t.data("itemId")+","+t.find("input").val())}),t.find("textarea").html(i+e.join(":"))})},check_if_empty:function(){0==$("#list tbody tr").length&&(window.location="/list")}};$(list.init);