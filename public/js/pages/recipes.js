const SearchBox={data:()=>({craftingListIds:craftingListIds,jobs:null,searchData:{name:"",sort:"name.asc",levelMin:1,levelMax:maxLevel,stars:"any",jobs:{Any:99},page:1,perpage:30},response:null,results:!1}),mounted(){this.loadJobs()},computed:{splitResults(){const s=window.innerWidth>991?3:window.innerWidth<768?1:2,t=Math.ceil(this.results.length/s);return 1==s?[this.results]:2==s?[this.results.splice(0,t),this.results.splice(-t)]:[this.results.splice(0,t),this.results.splice(t,t+t),this.results.splice(-t)]}},methods:{loadJobs(){axios.get("/api/job/types/crafting").then(s=>{this.jobs=s.data})},toggleJobs(s,t){this.searchData.jobs[t]=s-(this.searchData.jobs[t]||0);let e=0;for(const[s,t]of Object.entries(this.searchData.jobs))"Any"!==s&&t>0&&e++;0===e||"Any"==t&&99===this.searchData.jobs.Any?this.searchData.jobs={Any:99}:this.searchData.jobs.Any=0},search(){this.searchData.page=1,this.searchSubmit()},searchSubmit(){axios.post("/api/recipe/search",this.searchData).then(s=>{this.response=s.data,this.results=this.response.data})},previousPage(){this.searchData.page--,this.searchSubmit()},nextPage(){this.searchData.page++,this.searchSubmit()}}};Vue.createApp(SearchBox).mount("#searchBox");